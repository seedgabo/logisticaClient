<ion-header>
  <ion-navbar color="primary">
    <ion-title>{{pedido.numero_pedido}}</ion-title>
  </ion-navbar>

</ion-header>
<ion-content>
  <ion-fab top right>
    <button ion-fab mini color="pink" (click)="openMaps()">
      <ion-icon name="navigate"></ion-icon>
    </button>
  </ion-fab>
  <div style="height: 250px" id="map"></div>
  <ion-list>
    <ion-item>
      <b>{{ 'literals.client' | trans }}</b>
      <h2>{{ pedido.cliente?.nombres }}</h2>
    </ion-item>

    <ion-item>
      <b>{{ 'literals.delivery address' | trans }}</b>
      <h2>{{ pedido.direccion_envio }}</h2>
    </ion-item>

    <ion-item>
      <b>{{ 'literals.delivery date' | trans }}</b>
      <h2>{{ pedido.fecha_entrega | amCalendar }}</h2>
    </ion-item>

    <ion-list-header>
      {{'literals.products' | trans }}
    </ion-list-header>

    <ion-item *ngFor="let item of pedido.items">
      <ion-avatar item-left>
        <img [src]="item.image.url" *ngIf="item.image">
      </ion-avatar>
      <h2>{{ item.name }} </h2>
      <h3 item-right>
        {{ item.cantidad_pedidos}}
        <span *ngIf="item.unit; else und"> {{ item.unit.short }} </span>
        <ng-template #und> Und </ng-template>
      </h3>
    </ion-item>

    <ion-list-header *ngIf="pedido.archivos.length > 0">
      {{'literals.files' | trans }}
    </ion-list-header>
    <button ion-item *ngFor="let archivo of pedido.archivos" (click)="downloadFile(archivo)">
      {{archivo.nombre}}
      <ion-icon item-right name="download" color="primary" small></ion-icon>
    </button>

  </ion-list>
</ion-content>
